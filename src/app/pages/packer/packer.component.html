<app-packer-info [packer]="packer"></app-packer-info>

<div class="wrapper">

  <div class="visual-container">
    <div class="sheet" [ngStyle]="{'width.px': packer.config.width, 'height.px': packer.config.height}" *ngFor="let sheet of packer.sheets">

      <div class="space-used" [ngClass]="sheet.efficiency > 85 ? 'high' : sheet.efficiency < 50 ? 'low' : 'medium'">{{sheet.efficiency | number: '2.2'}} % space used</div>
      <ng-container *ngFor="let item of sheet.items">
        <div class="item"
          [style.left.px]="item.x"
          [style.top.px]="item.y"
          [ngStyle]="{'width.px': item.rotated ? item.height : item.width, 'height.px': item.rotated ? item.width : item.height}">
          {{item.width +' x '+ item.height}} rotation: {{item.rotated}}
        </div>
      </ng-container>

      <ng-container *ngFor="let sheet of sheet.nodes">
        <div class="node" *ngIf="!sheet.used"
          [style.left.px]="sheet.x"
          [style.top.px]="sheet.y"
          [ngStyle]="{'width.px': sheet.width, 'height.px': sheet.height}">
          <span class="sheet-dimensions">{{sheet.width + ' x ' + sheet.height}}</span>
        </div>
      </ng-container>

    </div>
  </div>
</div>
