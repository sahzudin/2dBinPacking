<div class="content-container">
    <form [formGroup]="form">

        <div class="form-group">
          <label for="Width">Širina</label>
          <input type="number" formControlName="width"/>
        </div>

        <div class="form-group">
          <label for="Height">Visina</label>
          <input type="number" formControlName="height"/>
        </div>

        <p-button label="Dodaj" icon="pi pi-plus" styleClass="p-button-sm" (click)="add()"></p-button>
        <p-button label="Sačuvaj uzorak" icon="pi pi-save" styleClass="p-button-sm" (click)="saveItem()"></p-button>

        <ng-container *ngIf=" savedItems$ | async as savedItems">
          <div class="form-group">
            <label for="savedItems">Sačuvani elementi ({{savedItems.length}})</label>
            <select name="savedItems" id="savedItems" formControlName="savedItem">
              <option [ngValue]="item" *ngFor="let item of savedItems">{{'Širina: ' + item.width + ' Visina: ' + item.height}}</option>
            </select>
          </div>

          <p-button label="Dodaj" icon="pi pi-plus" styleClass="p-button-sm" (click)="addSavedItem()"></p-button>
        </ng-container>

    </form>

    <div class="items-container">
        <p-table [value]="warrant.items" responsiveLayout="scroll" [scrollable]="true" scrollHeight="477px" *ngIf="warrant.items.length > 0; else noItems">
            <ng-template pTemplate="header">
                <tr>
                <th>Sirina</th>
                <th>Visina</th>
                <th>Akcija</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
                <tr>
                <td>{{item.width}}</td>
                <td>{{item.height}} </td>
                <td><button pButton pRipple type="button" icon="pi pi-trash" class="p-button-rounded p-button-text" (click)="remove(item)"></button></td>
                </tr>
            </ng-template>
        </p-table>

        <p-button *ngIf="warrant.items.length > 0" label="Sačuvaj" icon="pi pi-save" styleClass="p-button-sm" (click)="save()"></p-button>
    </div>
</div>

<ng-template #noItems>
    <h2>Dodajte nove elemente</h2>
</ng-template>
